# Arduino

某个口（脚位）出现的太多了，现将其用ko代替

## 最前面

变量声明（包括某个变量代表哪个口和不代表口的变量的初始值）

## void setup

Serial.begin(与电脑通信的速率)（波特率）

* 1/波特率（秒）就是一位数据的持续时间



pinMode (口的名字，INPUT/OUTPUT)

## void loop

digitalRead(ko)





#### 串口监视器

要用到串口监视器相关函数一般是Serial开头，包括Serial.begin,Serial.print(ln)等

### 数字输出

digitalWrite(ko,HIGH(1)/LOW(0))

### 模拟信号

要接收模拟信号只能用A0等带A的ko，要输出模拟信号只能用前面有~的ko

analogRead(ko) (模拟信号)（可以把收到的信号分成一小段一小段而不是只收到0/1）

analogWrite(ko,number)(number一般是0-255)

新变量名=map(旧变量,0,原有模拟信号最大段数，0，现在想要让它变成的最大段数)（作用是把本来变量的段数对应到想要的段数）(一般旧变量是模拟输入的)

#### 模拟信号使用流程

int a;

void loop(){

a=analoRead(A开头的ko);}后面直接用a就可以了（记得用带波浪线的ko输出）

##### 注

1. 模拟输入是0-1023，模拟输出是0-255，记住



### 舵机

#include <Servo.h>//引用舵机程序

Servo+舵机名字

void setup(){

舵机名字.attach(ko)；//声明此舵机的控制脚位

}

void loop(){

舵机名字.write（转动角度（最大180);）（仅对于180度舵机）

舵机名字+read

delay()；

}（记得在舵机名字后面加“.”）



对于360度舵机，我们不能控制其转动角度，仅能控制其转动方向和速度。

可以用舵机名.writeMicroseconds()来实现，括号中的数可以填500-2500，其中，1500会让舵机停转，500-1500会让舵机顺时针转动，数值越小转动越快；1500-2500是逆时针，数值越大转动越快。











### 74HC595

![QQ图片20221014091732](C:\Users\86180\Desktop\note\QQ图片20221014091732.png)

一定要记住哪些接正哪些接负，哪些是输出端口

![QQ图片20221014092202](C:\Users\86180\Desktop\note\QQ图片20221014092202.png)





#### 上拉电阻

在arduino中一般用10k欧姆的上拉电阻![QQ图片20221015121926](C:\Users\86180\Desktop\my\note\QQ图片20221015121926.png)

作用大概就是让开关闭合后使引脚出来的电流清楚的感受到上拉线路有阻力，所以不走上面改走下面去接地。（由于开关被按下时原来那条路也是通路，所以用于测电位的串口难以测定电位，故需要上拉电阻）

如果没有上拉电阻会进入到引脚悬空状态，可能有时候是0有时候是5V

上拉电阻是接在开关被按下前的那条通路上的，如果选择INPUT_PULLUP模式，就不用自己连接上拉电阻

### 串口通讯

Serial.begin(波特率)

Serial.available()的作用是检查串口接收缓存，如果没有东西，就会返回0；有东西，就会返回东西的字节数

Serial.read()的作用是读取串口接收缓存里的数据，读取后就会把这个数据删掉（一次只能读取一个字节）（一般是if(Serial.available()>0){数据类型 变量名=Seriail.read()}）

Serial.parseInt()的作用是识别出整数数据，如15464gfhu798，arduino就会识别出15464和798（其实Serial.parseInt()只能一次读取一个整型，如果有符号或字母分割就需要通过循环读两次，所以遇到数字+字母的多重搭配可以把read和parseInt一前一后解决问题）







##### 注：

1. Serial.read（）会把数字等都识别为ASCLL码，想要让它读数字必须用Serail.parseInt
1. 布尔变量是要在声明时加上boolean

### 其他函数

1. random(min,max)   (包括min但不包括max)



## 注

1. 可以直接说ko=1（HIGH）/0（LOW）
2. 这玩意对high和low好像有什么误解，我手拿着它都觉得电压高了
3. 
